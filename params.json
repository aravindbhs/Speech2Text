{"name":"Speech2text","tagline":"Dictation","body":"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<meta charset=\"ISO-8859-1\">\r\n<title>Insert title here</title>\r\n</head>\r\n<body>\r\n<div>\r\n  <a href=\"#\" id=\"start_button\" onclick=\"startDictation(event)\">Click here and start speaking I will show you magic</a>\r\n</div>\r\n \r\n<div id=\"results\">\r\n  <span id=\"final_span\" class=\"final\"></span>\r\n  <span id=\"interim_span\" class=\"interim\"></span>\r\n</div>\r\n \r\n<script type=\"text/javascript\">\r\nvar final_transcript = '';\r\nvar recognizing = false;\r\n \r\nif ('webkitSpeechRecognition' in window) {\r\n \r\n  var recognition = new webkitSpeechRecognition();\r\n \r\n  recognition.continuous = true;\r\n  recognition.interimResults = true;\r\n \r\n  recognition.onstart = function() {\r\n    recognizing = true;\r\n  };\r\n \r\n  recognition.onerror = function(event) {\r\n    console.log(event.error);\r\n  };\r\n \r\n  recognition.onend = function() {\r\n    recognizing = false;\r\n  };\r\n \r\n  recognition.onresult = function(event) {\r\n    var interim_transcript = '';\r\n    for (var i = event.resultIndex; i < event.results.length; ++i) {\r\n      if (event.results[i].isFinal) {\r\n        final_transcript += event.results[i][0].transcript;\r\n      } else {\r\n        interim_transcript += event.results[i][0].transcript;\r\n      }\r\n    }\r\n    final_transcript = capitalize(final_transcript);\r\n    final_span.innerHTML = linebreak(final_transcript);\r\n    interim_span.innerHTML = linebreak(interim_transcript);\r\n    \r\n  };\r\n}\r\n \r\nvar two_line = /\\n\\n/g;\r\nvar one_line = /\\n/g;\r\nfunction linebreak(s) {\r\n  return s.replace(two_line, '<p></p>').replace(one_line, '<br>');\r\n}\r\n \r\nfunction capitalize(s) {\r\n  return s.replace(s.substr(0,1), function(m) { return m.toUpperCase(); });\r\n}\r\n \r\nfunction startDictation(event) {\r\n  if (recognizing) {\r\n    recognition.stop();\r\n    return;\r\n  }\r\n  final_transcript = '';\r\n  recognition.lang = 'en-US';\r\n  recognition.start();\r\n  final_span.innerHTML = '';\r\n  interim_span.innerHTML = '';\r\n}\r\n</script>\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}